<?xml version="1.0" encoding="utf-8"?>

<Config>
    <!-- region Statement -->
    <Syntax Name="Statement" IsAbstract="true"/>

    <Syntax Name="EmptyStmt" OperationKind="Empty" Base="Statement">
        <Arguments>
            <Single Name="Span" Type="Microsoft.CodeAnalysis.Text.TextSpan" IsUpdatable="true"/>
        </Arguments>
    </Syntax>
    <Syntax Name="Block" OperationKind="Block" Base="Statement" NS="Graph">
        <Arguments>
            <Single Name="Statements" Type="List&lt;BoundStatement&gt;" IsUpdatable="true"/>
            <Single Name="NextEdge" Type="Edge" IsUpdatable="true" Default="null"/>
        </Arguments>
    </Syntax>

    <Syntax Name="DeclareStmt" Base="Statement" OperationKind="None"/>

    <Syntax Name="ExpressionStmt" Base="Statement" OperationKind="ExpressionStatement">
        <Arguments>
            <Single Name="Expression" Type="BoundExpression" IsUpdatable="true"/>
        </Arguments>
    </Syntax>

    <Syntax Name="MethodDeclStmt" Base="Statement" OperationKind="LocalFunction">
        <Arguments>
            <Single Name="Method" Type="SourceFunctionSymbol" IsUpdatable="true"/>
        </Arguments>
    </Syntax>


    <Syntax Name="GlobalConstDeclStmt" Base="Statement" OperationKind="VariableDeclaration">
        <Arguments>
            <Single Name="Name" Type="QualifiedName" IsUpdatable="true"/>
            <Single Name="Value" Type="BoundExpression" IsUpdatable="true"/>
        </Arguments>
    </Syntax>
    <Syntax Name="ReturnStmt" Base="Statement" OperationKind="Return">
        <Arguments>
            <Single Name="Returned" Type="BoundExpression" IsUpdatable="true"/>
        </Arguments>
    </Syntax>
    <Syntax Name="StaticVarStmt" Base="Statement"/>

    <Syntax Name="YieldStmt" Base="Statement" OperationKind="YieldReturn"/>
    <!-- endregion -->

    <!-- region Expression -->
    <Syntax Name="Expression" IsAbstract="true"/>

    <Syntax Name="ArrayEx" OperationKind="ArrayCreation" Base="Expression">
        <Arguments>
            <Single Name="Items" Type="ImmutableArray&lt;KeyValuePair&lt;BoundExpression, BoundExpression&gt;&gt;"
                    IsUpdatable="true"/>
        </Arguments>
    </Syntax>
    <Syntax Name="ArrayInit" Base="Expression"/>
    <Syntax Name="AssignEx" Base="Expression">
        <Arguments>
            <Single Name="Target" Type="BoundReferenceExpression" IsUpdatable="true"/>
            <Single Name="Value" Type="BoundExpression" IsUpdatable="true"/>
        </Arguments>
    </Syntax>

    <Syntax Name="UnaryEx" Base="Expression" OperationKind="UnaryOperator">
        <Arguments>
            <Single Name="Operand" Type="BoundExpression" IsUpdatable="true"/>
            <Single Name="Operation" Type="Operations" IsUpdatable="true"/>
        </Arguments>
    </Syntax>

    <Syntax Name="BinaryEx" Base="Expression" OperationKind="BinaryOperator">
        <Arguments>
            <Single Name="Left" Type="BoundExpression" IsUpdatable="true"/>
            <Single Name="Right" Type="BoundExpression" IsUpdatable="true"/>
            <Single Name="Operation" Type="Operations" IsUpdatable="true"/>
        </Arguments>
    </Syntax>

    <Syntax Name="ConditionalEx" Base="Expression">
        <Arguments>
            <Single Name="Condition" Type="BoundExpression" IsUpdatable="true"/>
            <Single Name="IfTrue" Type="BoundExpression" IsUpdatable="true"/>
            <Single Name="IfFalse" Type="BoundExpression" IsUpdatable="true"/>
        </Arguments>
    </Syntax>


    <Syntax Name="ConversionEx" Base="Expression">
        <Arguments>
            <Single Name="Operand" Type="BoundExpression" IsUpdatable="true"/>
            <Single Name="TargetType" Type="BoundTypeRef" IsUpdatable="true"/>
        </Arguments>
    </Syntax>
    <Syntax Name="Literal" Base="Expression">
        <Arguments>
            <Single Name="Value" Type="object" IsUpdatable="true"/>
        </Arguments>
    </Syntax>
    <Syntax Name="Method" Base="Expression"/>
    <Syntax Name="CallEx" Base="Expression" OperationKind="None"/>
    <Syntax Name="ThrowEx" Base="Expression" OperationKind="Throw">
        <Arguments>
            <Single Name="Thrown" Type="BoundExpression" IsUpdatable="true"/>
        </Arguments>
    </Syntax>
    <!-- endregion -->

    <!-- region Argument -->
    <Syntax Name="Argument">
        <Arguments>
            <Single Name="Value" Type="BoundExpression" IsUpdatable="true"/>
            <Single Name="ArgumentKind" Type="ArgumentKind" IsUpdatable="true"/>
        </Arguments>
    </Syntax>
    <!-- endregion -->

    <!-- region RoutineName -->
    <Syntax Name="RoutineName">
        <Arguments>
            <Single Name="name" Type="QualifiedName" IsUpdatable="true"/>
            <Single Name="nameExpr" Type="BoundExpression" IsUpdatable="true"/>
        </Arguments>
    </Syntax>
    <!-- endregion -->

    <!-- region TypeRef -->
    <Syntax Name="TypeRef" IsAbstract="true"/>

    <Syntax Name="ArrayTypeRef" Base="TypeRef" NS="TypeRef">
        <Arguments>
            <Single Name="ElementType" Type="TypeRefMask"/>
        </Arguments>
    </Syntax>

    <Syntax Name="ClassTypeRef" Base="TypeRef" NS="TypeRef">
        <Arguments>
            <Single Name="QName" Type="QualifiedName"/>
            <Single Name="Routine" Type="SourceRoutineSymbol"/>
            <Single Name="Arity" Type="int"/>
        </Arguments>
    </Syntax>
    <Syntax Name="GenericClassTypeRef" Base="TypeRef" NS="TypeRef"/>

    <Syntax Name="PrimitiveTypeRef" Base="TypeRef" NS="TypeRef">
        <Arguments>
            <Single Name="Type" Type="AquilaTypeCode"/>
        </Arguments>
    </Syntax>

    <Syntax Name="TypeRefFromSymbol" Base="TypeRef" NS="TypeRef">
        <Arguments>
            <Single Name="Symbol" Type="ITypeSymbol"/>
        </Arguments>
    </Syntax>
    <!-- endregion -->

    <!-- region Variable -->
    <Syntax Name="Variable" IsAbstract="true">
        <Arguments>
            <Single Name="VariableKind" Type="VariableKind"/>
        </Arguments>
    </Syntax>

    <Syntax Name="IndirectLocal" Base="Variable">
        <Arguments>
            <Single Name="NameExpr" Type="BoundExpression"/>
            <Single PassBaseConst="VariableKind.LocalVariable" PassBase="true"/>
        </Arguments>
    </Syntax>

    <Syntax Name="Local" Base="Variable" OperationKind="VariableDeclaration">
        <Arguments>
            <Single Name="Symbol" Type="SourceLocalSymbol"/>
            <Single Name="VariableKind" Type="VariableKind" PassBase="true" OnlyArgument="true"
                    Default="Symbols.VariableKind.LocalVariable"/>
        </Arguments>
    </Syntax>
    <Syntax Name="Parameter" Base="Variable" OperationKind="ParameterInitializer">
        <Arguments>
            <Single Name="ParameterSymbol" Type="ParameterSymbol"/>
            <Single Name="Initializer" Type="BoundExpression"/>

            <Single PassBaseConst="VariableKind.Parameter" PassBase="true"/>
        </Arguments>
    </Syntax>
    <Syntax Name="ThisParameter" Base="Variable" OperationKind="None">
        <Arguments>
            <Single Name="Routine" Type="SourceRoutineSymbol"/>
            <Single PassBaseConst="VariableKind.ThisParameter" PassBase="true"/>
        </Arguments>
    </Syntax>
    <!-- endregion -->

    <!-- region VariableName -->
    <Syntax Name="VariableName" IsAbstract="true">
        <Arguments>
            <Single Name="NameValue" Type="VariableName"/>
            <Single Name="NameExpression" Type="BoundExpression"/>
        </Arguments>
    </Syntax>
    <!-- endregion -->

</Config>